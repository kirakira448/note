
## 以传输图片为例

在`WebMvcConfigurer`下的`addResourceHandlers`中添加如下代码

```java
registry.addResourceHandler("/images/**")  
        .addResourceLocations("file:{{abs_path}}");
```


通过如下url访问文件
```url
http://{{host}}:{{port}}/images/{{filepath}}
```

>**注意:**
>如果定义了拦截器，记得将`"/images/**"`放行（如果必要）

## 完整代码

```java
package com.hoso.user.configs;  
  
import com.hoso.common.interceptors.SwaggerInterceptor;  
import com.hoso.user.interceptors.LoginInterceptor;  
import org.springframework.beans.factory.annotation.Autowired;  
import org.springframework.context.annotation.Configuration;  
import org.springframework.web.servlet.config.annotation.InterceptorRegistry;  
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;  
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;  
  
@Configuration  
public class WebConfig implements WebMvcConfigurer {  
  
    @Autowired  
    private LoginInterceptor loginInterceptor;  
  
    private static final String[] EXCLUDE_PATH_PATTERNS={"/user/login","/user/register","/error","/images/**","/swagger-ui**","/swagger-ui/**","/swagger-ui/**.html","/swagger-ui/**.css","/swagger-ui/**.js","/v3/api-docs/**"};  
  
    public WebConfig() {  
    }  
  
    @Override  
    public void addInterceptors(InterceptorRegistry registry) {  
        registry  
                .addInterceptor(loginInterceptor)  
                .excludePathPatterns(EXCLUDE_PATH_PATTERNS);  
  
    }  
  
    @Override  
    public void addResourceHandlers(ResourceHandlerRegistry registry) {  
        registry.addResourceHandler("doc.html")  
                .addResourceLocations("classpath:/META-INF/resources/");  
        registry.addResourceHandler("swagger-ui.html")  
                .addResourceLocations("classpath:/META-INF/resources/");  
        registry.addResourceHandler("/webjars/**")  
                .addResourceLocations("classpath:/META-INF/resources/webjars/");  
        registry.addResourceHandler("/favicon.ico")//favicon.ico  
                .addResourceLocations("classpath:/static/");  
        registry.addResourceHandler("/**").addResourceLocations("classpath:/static/");  
        registry.addResourceHandler("/images/**")  
                .addResourceLocations("file:C:/Users/hoso-sdvod-kang/code/hoso/Hoso-ec-site/server/hoso-ec-back-end/server/src/main/resources/images/");  
    }  
  
  
  
  
}
```