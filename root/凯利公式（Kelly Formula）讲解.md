
凯利公式是一个用来**优化投注或投资资金分配**的数学工具，目标是在**长期内最大化资本的增长率**，同时控制风险，避免破产。最初由约翰·凯利（John Kelly）于1956年提出。

---

## 📌 一、凯利公式的基本形式

最基础的凯利公式如下：
$$
f^* = \frac{bp - q}{b}
$$
其中：
- `f*`：你应该投入资金的比例（占总资金的百分比）
- `b`：赔率（即投注成功后每单位本金获得的收益，例如赔率是2倍，b=1）
- `p`：获胜的概率
- `q = 1 - p`：失败的概率

---

## 🧮 二、举个例子（投注场景）

假设有一个赌局：
- 投注1元，如果赢了就得回2元（即赢利1元），赔率是2倍 → `b = 1`
- 你估计你赢的概率是60% → `p = 0.6`

代入凯利公式：
$$
f^* = \frac{1*0.6 - 0.4}{1}=0.2
$$
f* = (1 * 0.6 - 0.4) / 1 = 0.2


👉 你应该投入资金的 **20%** 来下注。

---

## 💼 三、凯利公式在投资中的应用

在股票、加密货币等投资领域，凯利公式的变体形式如下：
$$
f^* = \frac{\mu - r_f}{\sigma^2}
$$
f* = (μ - r_f) / σ²


其中：
- `μ`：预期收益率
- `r_f`：无风险收益率
- `σ`：收益的标准差（波动率）

---

## ⚠️ 四、凯利公式的优缺点

### ✅ 优点：
- 在**长期重复博弈**中最大化资本的几何增长率
- 控制风险，避免破产

### ❌ 缺点：
- 依赖对“胜率”或“期望收益”的准确估算
- 对短期波动敏感
- 实践中通常使用 **分数凯利**（例如只用凯利结果的50%）降低风险

---

## 🔁 五、小结

凯利公式适用于以下情况：
- 能估算成功概率
- 决策可以**多次重复执行**
- 目标是**长期增长最大化**

---

如需代码实现或投资/股市中的实际案例，也可以继续向我咨询 👇
