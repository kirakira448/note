# 0. 配置环境

安装Celery（使用5.0以上的版本）
```bash
pip install Celery
```

安装消息中间件（这里使用redis）
```bash
pip install redis
```

# 1. 创建task

创建一个`celery_task.py`文件
```python
import celery
import time

backend='redis://127.0.0.1:6379/1'
broker='redis://127.0.0.1:6379/2'
cel=celery.Celery('test',backend=backend,broker=broker)

# 通过装饰器标识任务
@cel.task
def send_email(name):
    print(f"向{name}发送邮件...")
    time.sleep(5)
    print(f"向{name}发送邮件完成")
    return "ok"
```


# 2. 启动项目

在控制台输入命令启动项目
```bash
celery -A celery_task worker -l info
```