Canvas是HTML5新增的组件，它就像一块幕布，可以用JavaScript在上面绘制各种图表、动画等。

## 选择 Canvas 还是 SVG

**结论**：
1. 小画布、大数据量的场景适合用 Canvas，譬如热力图、大数据量的散点图等。

2. 如果画布非常大，有缩放、平移等高频的交互，或者移动端对内存占用量非常敏感等场景，可以使用 SVG 的方案。

在元素的图表中，比如力导向图，柱状图、树图等等，这类多元素图，SVG需要创建非常多的dom元素，导致页面卡顿或是渲染过度。

而canvas则不存在dom多的问题，无论怎么样的数据量或是元素都只有一个canvas标签，速度自然快。

## vscode 提示

VS Code不安装相关插件的情况下，使用canvas是没有代码提示的，
这个时候可以添加一行注释来解决 `/** @type {HTMLCanvasElement} */`
**注意：一定要放在 `var canvas = document.getElementById('test');` 行的前面，否则会出现有些提示不显示的情况**

```js
/** @type {HTMLCanvasElement} */
var canvas = document.getElementById("canvas");
```

## 基本示例
```html
<html>
  <head>
    <script type="application/javascript">
      function draw() {
        var canvas = document.getElementById("canvas");
        if (canvas.getContext) {
          var ctx = canvas.getContext("2d");

          ctx.fillStyle = "rgb(200,0,0)";
          ctx.fillRect(10, 10, 55, 50);

          ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
          ctx.fillRect(30, 30, 55, 50);
        }
      }
    </script>
  </head>
  <body onload="draw();">
    <canvas id="canvas" width="150" height="150"></canvas>
  </body>
</html>

```

## 坐标

![[canvas_default_grid.png]]
以左上角为坐标原点，所有元素相对于坐标原点定位（元素的原点也在左上角）



