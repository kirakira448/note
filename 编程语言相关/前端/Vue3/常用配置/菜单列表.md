### 前端
创建菜单的pinia store
`menuStore.js`
```js
import { defineStore } from 'pinia'

export const useMenuStore = defineStore('menu', {
    state:()=>{
        return{
            isCollapse:false,
            breadcrumb:'首页',
            menus:[],

        }
    },
    // 持久化
    persist: {
        enabled: true,
        strategies: [
            {
                key: 'menus', //自定义 Key值
                storage: localStorage, // 选择存储方式
            },
        ],
    }
})
```


```vue
<el-menu background-color="#304156" text-color="#fff" active-text-color="#ffd04b" :default-active="active" router
:collapse="menuStore.isCollapse" class="el-menu-vertical-demo">

	<!-- 循环生成试图，不会增加页面结构 -->
	<template v-for="(item, index) of menuStore.menus" :key="index">
		<el-sub-menu v-if="item.children" :index="item.path">
			<template #title>
				<el-icon>
					<component class="icon" :is="item.icon"></component>
				</el-icon>
				<span>{{ item.name }}</span>

			</template>
			<el-menu-item :index="childItem.path" v-for="childItem in item.children">
				{{ childItem.name }}
			</el-menu-item>
		</el-sub-menu>
		<el-menu-item v-else :index="item.path">
			<component class="icon" :is="item.icon"></component>
			<span>{{ item.name }}</span>
		</el-menu-item>
	</template>


</el-menu>
```

`menuStore.js`
```json
[
{"path":"/","name":"首页","icon":"Document"},
{"path":"/project","name":"项目基础信息","icon":"Discount"},  {"path":"/tunnel","name":"隧道设计信息","icon":"Picture"},
{"path":"/work","name":"工作监督管理","icon":"IceCreamRound"},

{"path":"/build","name":"施工监控检测","icon":"Filter","children":                      [
        {"path":"/plan","name":"检测计划"},
        {"path":"/section","name":"切面检测"}
    ]
},

{"path":"/geological","name":"超前地质预报","icon":"ShoppingTrolley"},{"path":"/system","name":"系统信息管理","icon":"Wallet"}
 ]
```